{% extends 'layout.html' %} 
{% block body %}

<!-- Result Header -->
<section class="result-header">
  <div class="container">
    <div class="result-header-content">
      <div class="result-icon success">
        <i class="fas fa-check-circle"></i>
      </div>
      <h1 class="result-title">Disease Detection Complete</h1>
      <p class="result-subtitle">Analysis results for your plant image</p>
    </div>
  </div>
</section>

<!-- Result Content -->
<section class="result-content">
  <div class="container">
    <div class="result-grid">
      <!-- Main Result Card -->
      <div class="result-main-card">
        <!-- Image Section -->
        <div class="result-image-section">
          <div class="image-label">
            <i class="fas fa-image"></i>
            Uploaded Image
          </div>
          <div class="result-image-wrapper">
            <img src="data:image/png;base64,{{ image_base64 }}" alt="Uploaded Plant Image" class="result-image" />
          </div>
        </div>

        <!-- Prediction Section -->
        <div class="prediction-section">
          <div class="prediction-header">
            <h2 class="prediction-title">
              <i class="fas fa-microscope"></i>
              Disease Detected
            </h2>
          </div>
          
          <div class="prediction-result">
            <div class="disease-name">
              {{ prediction['label'] }}
            </div>
            <div class="confidence-badge">
              <i class="fas fa-chart-line"></i>
              <span>Confidence: {{ (prediction['score'] * 100) | round(2) }}%</span>
            </div>
          </div>

          <!-- Confidence Bar -->
          <div class="confidence-bar-wrapper">
            <div class="confidence-bar-label">Prediction Accuracy</div>
            <div class="confidence-bar">
              <div class="confidence-fill" style="width: {{ (prediction['score'] * 100) | round(2) }}%"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Fertilizer Recommendation Card -->
      <div class="recommendation-card">
        <div class="recommendation-header">
          <div class="recommendation-icon">
            <i class="fas fa-flask"></i>
          </div>
          <h2 class="recommendation-title">Treatment Recommendation</h2>
        </div>

        <div class="recommendation-content">
          <div class="recommendation-item">
            <div class="recommendation-label">
              <i class="fas fa-pills"></i>
              Recommended Fertilizer
            </div>
            <div class="recommendation-value">{{ fertilizer['fertilizer'] }}</div>
          </div>

          <div class="recommendation-item">
            <div class="recommendation-label">
              <i class="fas fa-info-circle"></i>
              Details
            </div>
            <div class="recommendation-value">{{ fertilizer['details'] }}</div>
          </div>

          <div class="recommendation-item">
            <div class="recommendation-label">
              <i class="fas fa-tasks"></i>
              Application Method
            </div>
            <div class="recommendation-value">{{ fertilizer['application_method'] }}</div>
          </div>
        </div>

        <div class="recommendation-footer">
          <div class="recommendation-tip">
            <i class="fas fa-lightbulb"></i>
            <span>Follow the application method carefully for best results</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="result-actions">
      <a href="{{ url_for('disease_prediction') }}" class="btn-action btn-action-primary">
        <i class="fas fa-redo"></i>
        Analyze Another Image
      </a>
      <a href="{{ url_for('home') }}" class="btn-action btn-action-secondary">
        <i class="fas fa-home"></i>
        Back to Home
      </a>
    </div>
  </div>
</section>

<!-- Additional Info Section -->
<section class="result-info-section">
  <div class="container">
    <div class="info-cards-grid">
      <div class="info-card-small">
        <i class="fas fa-clock"></i>
        <h3>Quick Response</h3>
        <p>Early detection helps prevent disease spread</p>
      </div>
      <div class="info-card-small">
        <i class="fas fa-shield-alt"></i>
        <h3>Accurate Diagnosis</h3>
        <p>AI-powered analysis with high precision</p>
      </div>
      <div class="info-card-small">
        <i class="fas fa-leaf"></i>
        <h3>Expert Guidance</h3>
        <p>Personalized treatment recommendations</p>
      </div>
    </div>
  </div>
</section>

{% endblock %}
